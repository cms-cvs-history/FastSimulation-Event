process TEST =  {
    
    # The number of events to be processed.
    untracked PSet maxEvents = {untracked int32 input = 100}
    
    # The random number generator service
    service =  RandomNumberGeneratorService {
	untracked uint32 sourceSeed = 123456789
	# This is to initialize the random engine of Famos
	# Watch out! This works only if the FamosProducer label is "famosSimHits"
	PSet moduleSeeds =
	{
	    untracked uint32 famosSimHits = 13579
	}
    }
    
    /* */
    source = FlatRandomPtGunSource 
    {	 
	untracked uint32 firstRun  = 1
	untracked      PSet  PGunParameters =
	{
	    # you can request more than 1 particle
	    #untracked vint32  PartID = { 211, 11, -13 }
	    untracked vint32 PartID = {11} 
	    untracked double MinEta = -5.0
	    untracked double MaxEta = 5.0
	    untracked double MinPhi = -3.14159265358979323846  # it must be in radians
	    untracked double MaxPhi =  3.14159265358979323846
	    untracked double MinPt   = 1.
	    untracked double MaxPt   = 10.
	}      
	untracked int32 Verbosity = 0 # for printouts, set it to 1 (or greater)   
    }	
    /* */
    
    /*
    source = PoolSource
    {
	# Number of events program should run
	untracked vstring fileNames = {
	    'file:/afs/cern.ch/user/f/fabiocos/public/ForPatrick/ttbar.root'
	    #	    'rfio:/castor/cern.ch/user/c/cbern/CMSSW/CMSSW_1_5_0/Taus/singletaus.root' 
	}
    }
    */
    
    module test = testEvent {
	
	# necessary to access true particles 
	PSet ParticleFilter = {
	    # Particles with |eta| > etaMax (momentum direction at primary vertex) 
	    # are not simulated 
	    double etaMax = 5.0
	    # Charged particles with pT < pTMin (GeV/c) are not simulated
	    double pTMin =  0.
	    # Particles with energy smaller than EMin (GeV) are not simulated
	    double EMin = 0.
	}

	bool GeantInfo = false
    }
    
    include "FastSimulation/Configuration/data/FamosSequences.cff"
    replace VolumeBasedMagneticFieldESProducer.useParametrizedTrackerField = true
    replace famosSimHits.SimulateCalorimetry = false
    replace famosSimHits.SimulateTracking = false
    replace famosSimHits.SimulatePileUp = false
    replace famosSimHits.MaterialEffects.PairProduction = false
    replace famosSimHits.MaterialEffects.Bremsstrahlung = true
    replace famosSimHits.MaterialEffects.EnergyLoss = false
    replace famosSimHits.MaterialEffects.MultipleScattering = false
    replace famosSimHits.MaterialEffects.NuclearInteraction = false
    
    path p = {
	famosSimHits, 
	test
    }
}
